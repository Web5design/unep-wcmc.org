<div id="container" ng-app="DatasetsResources" ng-controller="DatasetsCtrl" ng-init="init(<%= render partial: "datasets/list", formats: :json %>)">
  <div id="data" class="column-1-3">
    <select id="sorting" ng-model="sortOrder" ng-options="order.value as order.name for order in sortOrders" ng-change="sortDatesets()">
    </select>
    <ul id="content">
      <li class="header">
        Type of content
        <span class="badge" ng-click="deselectAll()">None</span>
        <span class="badge">|</span>
        <span class="badge" ng-click="selectAll()">All</span>
      <li ng-click="toggleContentType()" ng-class="{active: contentType.selected && contentType.count > 0}" class="content_type" ng-repeat="contentType in contentTypes">
        <span class="badge">{{ contentType.count }}</span>
        <p ng-style="{color: contentType.count > 0 ? '#000' : '#ddd'}">{{ contentType.plural }}</p>
      </li>
    </ul>
  </div>
  <div id="data" class="column-2-3">
    <h1>
      Resources &amp; data
    </h1>
    <section ng-repeat="dataset in activeDatasets">
      <h2 class="smaller">{{ dataset.title }}</h2>
      <h3>
        {{ dataset.content_type }}
        <span class="separator">|</span>
        {{ dataset.publication_date | date}}
      </h3>
      <p>
        {{ dataset.content }}
      </p>
    </section>
  </div>
</div>
